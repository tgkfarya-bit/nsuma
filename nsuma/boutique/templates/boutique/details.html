{% extends 'boutique.html' %}
{% load static %}


{% block filter %}

{% endblock %}


{% block content %}
<style>
    #main {
        margin-top: 50px;
    }

    .view-detail {
        width: 100%;
        flex-direction: column;
        align-items: center;
        height: 100%;
        display: flex;
    }

    .imag-pro {
        width: 100%;
        height: 300px;
        position: relative;
    }
</style>

<div class="view-detail">
    <div class="imag-pro">
        <img width="100%" height="100%" style="object-fit: cover;"
            src="{{produit.image.url}}"
            alt="" srcset="">
        <div style="height: 32px; position: absolute;top: 10px;left: 0px; width: 100%;display: flex;flex-direction: row;align-items: center;justify-content: space-between;">
            <div onclick="naveTonext(this)"  data-url="{% url 'boutique:boutique' %}?type_doc={{produit.categorie}}" style="border: 1px solid #fff;box-shadow: 0px 0px 4px rgb(0,0,0,0.3);border-radius: 12px; margin-left: 20px; width: 32px;height: 32px;align-items: center;display: flex;justify-content: center;background-color: #fff;">
                <div><i style="font-size: 16px;" class="fa-solid fa-arrow-left"></i></div>
            </div>
            <div style="display: flex;flex-direction: row;align-items: center;gap: 20px;margin-right: 10px;">
                <div onclick="naveTonext(this)" {% if user.is_authenticated %}data-url="{% url 'boutique:ajoute' produit.slug %}" {% else %}data-url="{% url 'clients:login' %}" {% endif %} style="border: 1px solid #fff; border-radius: 12px;color: #E2831D; width: 32px;height: 32px;align-items: center;display: flex;justify-content: center;background-color: #fff;box-shadow: 0px 0px 4px rgb(0,0,0,0.3);"><i style="font-size: 16px;" class="fa-solid fa-cart-plus"></i></div>
                <div style=" border: 1px solid #fff; border-radius: 12px;color: #E2831D; width: 32px;height: 32px;align-items: center;display: flex;justify-content: center;background-color: #fff;box-shadow: 0px 0px 4px rgb(0,0,0,0.3);"><i class="fa-solid fa-heart"></i></div>
            </div>
        </div>
    </div>
    <div style="display: flex;flex-direction: column;width: 100%;gap: 5px;margin-left: 10px;">
        <h4>Boutique <span>{{produit.boutique}}</span></h4>
        <h2>{{produit.titre}}</h2>
        <p>{{produit.description}}</p>
        <div style="justify-content: space-between; width: 100%;align-items: center;display: flex;flex-direction: row;">
            <p>prix: <span style="font-weight:bold;color: #E2831D;">{{produit.prix}}</span><span style="font-size: 12px;"> DH</span></p>
            <p style="margin-right: 20px;font-size: 12px;"><span style="font-weight: bold;">{{produit.stock}}</span> <span>Articles disponibles </span></p>
        </div>
    </div>
    <div style="align-items: center;display: flex;flex-direction: row;width: 100%;margin-top: 20px;gap: 10px;justify-content: center;">
        <div onclick="naveTonext(this)" {% if user.is_authenticated %}data-url="{% url 'boutique:ajoute' produit.slug %}" {% else %}data-url="{% url 'clients:login' %}" {% endif %} style="box-shadow: 0px 0px 4px rgb(0,0,0,0.3); border-radius: 12px; background-color: #fff;color: #E2831D; font-size: 20px; display: flex; height: 40px;width: 40px;align-items: center;justify-content: center;">
            <i class="fa-solid fa-cart-plus"></i>
        </div>
        <div onclick="naveTonext(this)" {% if user.is_authenticated %}data-url="{% url 'boutique:commande' produit.slug %}" {% else %}data-url="{% url 'clients:login' %}" {% endif %} style="width: 80%;height: 40px;">
            <Button style="box-shadow: 0px 2px 4px rgb(0,0,0,0.3); border-radius: 12px;background-color: green;color: #fff;border: 1px solid green; height: 100%;width: 100%;display: flex;flex-direction: row;align-items: center;justify-content: center;gap: 10px;">
            <span><i style="font-size: 24px;" class="fa-brands fa-whatsapp"></i></span>
            <span style="font-size: 16px;font-weight: 500;">Commander</span>
            </Button>
        </div>
    </div>

    <style>
        .card-p{
            width: 90%;
            height: 140px;
            background-color: #fff;
            margin: 10px;
            border-radius: 12px;
            overflow: hidden;
            position: relative;
        }
    </style>
    <div style="height: 100%; background-color: #E2831D; display: flex;align-items: center;justify-content: center;flex-direction: column;width: 100%;margin-top: 20px;">
        <div style="gap: 10px; justify-content: center;align-items: center; width: 100%;display: grid;grid-template-columns: repeat(2,1fr);">
        {% for prod in similaires %}
        <div class="card-p" onclick="naveTonext(this)" data-url="{% url 'boutique:details' prod.slug %}">
            <img src="{{prod.image.url}}" width="100%" height="100%" style="object-fit: cover;" alt="" srcset="">
            <div style="height: 100%;width: 100%;background-color: rgb(0,0,0,0.3);position: absolute;top: 0px;left: 0px;">
                <div style="color: #fff;background-color: #E2831D; border-radius: 8px; margin-right: 10px;height: 24px;width: 24px;display: flex;align-items: center;justify-content: center;">
         <i class="fa-solid fa-basket-shopping"></i>
            </div>
            </div>
            <div style="position: absolute;bottom: 10px;left: 10px;z-index: 1;">
                <p style="text-shadow: 0px 0px 4px rgb(0,0,0,0.3); color: #fff;">Prix: <span style="font-weight: 500;">{{prod.prix}}</span><span style="font-size: 12px;"> DH</span></p>
            </div>
        </div>
        {% endfor %}
    </div>
    </div>
</div>

{% endblock %}